{"source":2,"revision":145,"description":null,"createdBy":{"displayName":"Surti, Pankaj B. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/b5506338-a840-4b37-84cd-817666143480","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTgxNDQzODIxOC0xNTI3Nzc2MDItOTMwNzc0Nzc0LTQ5MDUwMw"}},"id":"b5506338-a840-4b37-84cd-817666143480","uniqueName":"VHAMASTER\\VHAISHSurtiP","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMTgxNDQzODIxOC0xNTI3Nzc2MDItOTMwNzc0Nzc0LTQ5MDUwMw","descriptor":"win.Uy0xLTUtMjEtMTgxNDQzODIxOC0xNTI3Nzc2MDItOTMwNzc0Nzc0LTQ5MDUwMw"},"createdOn":"2021-03-24T14:37:01.563Z","modifiedBy":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"modifiedOn":"2021-06-24T23:08:35.467Z","isDeleted":false,"variables":{},"variableGroups":[],"environments":[{"id":4,"name":"PREPROD-SOUTHWEST-RG","rank":2,"owner":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"variables":{"env":{"value":"nprod"},"ResourceGroup":{"value":"EIS-PREPROD-INT-SOUTHWEST-EIS-RG"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":11}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":14},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":22}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":180,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Run on agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"1e244d32-2dd4-4165-96fb-b7441ca9331e","version":"1.*","name":"Azure Key Vault: va-eis-tmp-keyvault-nprd","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","KeyVaultName":"va-eis-tmp-keyvault-nprd","SecretsFilter":"*"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Update inline params","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)\n$file = \"./_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-dataverse-conn-$(env).parameters.json\"\nwrite-host $file\n((Get-Content -path $file) -replace '_cds-client-id_', '$(cds-client-id)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-client-secret_', '$(cds-client-secret)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-tenant-id_', '$(cds-tenant-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)\n$file = \"$(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-loganalytics-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_log-analytics-workspace-key_', '$(log-analytics-workspace-key)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_log-analytics-workspace-id_', '$(log-analytics-workspace-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse API Conn","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-dataverse-conn.json --parameters va-eis-tmp-dataverse-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn-ext.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Log Analytics Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-loganalytics-conn.json --parameters va-eis-tmp-loganalytics-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault-conn.json --parameters va-eis-tmp-keyvault-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct-ext.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - OAuthAuthenticator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-OAuthAuthenticator.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - AzureManagementAPIWrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-AzureManagementAPIWrapper.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - DataLake Wrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-DataLakeAPIWrapper.json --parameters va-eis-tmp-DataLakeAPIWrapper-$(env).parameters.json\n","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-orchestrator.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-worker.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-orchestrator.json --parameters ..\\shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound FHIR worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-FHIRworker.json --parameters va-eis-tmp-inbound-FHIRworker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 12","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS12.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 13","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS13.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 15","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS15.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 23","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS23.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 24","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS24.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Preemptive ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-PreemptiveTMPResourceSync.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Worker Main","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-worker.json --parameters va-eis-tmp-inbound-worker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Liquid Templates","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration\necho \"$(container-reg-key)\" | .\\Converter.Tool\\oras.exe login $(container-reg-user).azurecr.us -u $(container-reg-user) --password-stdin \n.\\Converter.Tool\\Microsoft.Health.Fhir.Liquid.Converter.Tool.exe push $(container-reg-user).azurecr.us/fhir-converter:main .\\ContainerDeploy","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault, update managed Identities","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7265c7de-0f8c-4d5f-8934-6aa5537f4d89","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Resources\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault.json --parameters va-eis-tmp-keyvault-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":152,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/releases/152","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{"dataSourceBindings":[{"dataSourceName":"AzureRMWebAppNamesByAppType","parameters":{"WebAppKind":"$(WebAppKind)"},"endpointId":"$(ConnectedServiceName)","target":"WebAppName"}]},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://devops.ec.va.gov/SharedServices/_apis/public/Release/badge/91e7d26e-ed2c-4987-a40c-7912f194dd2d/1/4"},{"id":8,"name":"DEV-SOUTHWEST-RG","rank":1,"owner":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"variables":{"env":{"value":"dev"},"ResourceGroup":{"value":"EIS-DEVTEST-INT-SOUTHWEST-EIS-RG"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":false,"isNotificationOn":false,"approver":{"displayName":"Cisewski, Peter J. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/17a05c0c-6b3b-489b-918a-e3a6e63f43ce","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMjUwMzg5MDAzNS0yODcxMTQ2ODMxLTMxODU3MjU0OTctMzcxMjI1"}},"id":"17a05c0c-6b3b-489b-918a-e3a6e63f43ce","uniqueName":"VHA23\\OITMINCISEWP","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtMjUwMzg5MDAzNS0yODcxMTQ2ODMxLTMxODU3MjU0OTctMzcxMjI1","descriptor":"win.Uy0xLTUtMjEtMjUwMzg5MDAzNS0yODcxMTQ2ODMxLTMxODU3MjU0OTctMzcxMjI1"},"id":26}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":true,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":27},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":28}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":180,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Run on agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"1e244d32-2dd4-4165-96fb-b7441ca9331e","version":"1.*","name":"Azure Key Vault: va-eis-tmp-keyvault-dev","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"eb7a6469-3f67-4780-b201-84f318735268","KeyVaultName":"va-eis-tmp-keyvault-dev","SecretsFilter":"*"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Update inline params","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)\n$file = \"./_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-dataverse-conn-$(env).parameters.json\"\nwrite-host $file\n((Get-Content -path $file) -replace '_cds-client-id_', '$(cds-client-id)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-client-secret_', '$(cds-client-secret)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-tenant-id_', '$(cds-tenant-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)\n$file = \"$(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-loganalytics-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_log-analytics-workspace-key_', '$(log-analytics-workspace-key)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_log-analytics-workspace-id_', '$(log-analytics-workspace-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse API Conn","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-dataverse-conn.json --parameters va-eis-tmp-dataverse-conn-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn.json --parameters va-eis-tmp-servicebus-conn-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn-ext.json --parameters va-eis-tmp-servicebus-conn-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Log Analytics Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-loganalytics-conn.json --parameters va-eis-tmp-loganalytics-conn-nprod.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault-conn.json --parameters va-eis-tmp-keyvault-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct-ext.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - OAuthAuthenticator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-OAuthAuthenticator.json --parameters ../shared-$(env).parameters.json\n ","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - AzureManagementAPIWrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-AzureManagementAPIWrapper.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - DataLake Wrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-DataLakeAPIWrapper.json --parameters va-eis-tmp-DataLakeAPIWrapper-dev.parameters.json\n","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-orchestrator.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-worker.json --parameters va-eis-tmp-outbound-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-orchestrator.json --parameters ..\\shared-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound FHIR worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-FHIRworker.json --parameters va-eis-tmp-inbound-FHIRworker-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 12","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS12.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 13","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS13.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 15","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS15.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 23","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS23.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 24","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS24.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Preemptive ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-PreemptiveTMPResourceSync.json --parameters va-eis-tmp-inbound-dataverseproscessing-dev.params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Worker Main","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-worker.json --parameters va-eis-tmp-inbound-worker-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Liquid Templates","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration\necho \"$(container-reg-key)\" | .\\Converter.Tool\\oras.exe login $(container-reg-user).azurecr.us -u $(container-reg-user) --password-stdin \n.\\Converter.Tool\\Microsoft.Health.Fhir.Liquid.Converter.Tool.exe push $(container-reg-user).azurecr.us/fhir-converter:main .\\ContainerDeploy","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault, update managed Identities","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"eb7a6469-3f67-4780-b201-84f318735268","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Resources\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault.json --parameters va-eis-tmp-keyvault-dev.parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":0,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/releases/0","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{"dataSourceBindings":[{"dataSourceName":"AzureRMWebAppNamesByAppType","parameters":{"WebAppKind":"$(WebAppKind)"},"endpointId":"$(ConnectedServiceName)","target":"WebAppName"}]},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://devops.ec.va.gov/SharedServices/_apis/public/Release/badge/91e7d26e-ed2c-4987-a40c-7912f194dd2d/1/8"},{"id":9,"name":"TESTING","rank":5,"owner":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"variables":{"env":{"value":"east-prod"},"ResourceGroup":{"value":"EIS-PROD-INT-EAST-EIS-RG"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":29}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":30},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":31}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":180,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Agent job","refName":null,"workflowTasks":[{"environment":{},"taskId":"1e244d32-2dd4-4165-96fb-b7441ca9331e","version":"1.*","name":"Azure Key Vault: va-eis-tmp-kv-east-prod","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","KeyVaultName":"va-eis-tmp-kv-east-prod","SecretsFilter":"*"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline Powershell","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)\n$file = \"./_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-dataverse-conn-$(env).parameters.json\"\nwrite-host $file\n((Get-Content -path $file) -replace '_cds-client-id_', '$(cds-client-id)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-client-secret_', '$(cds-client-secret)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-tenant-id_', '$(cds-tenant-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)\n$file = \"$(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-loganalytics-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_log-analytics-workspace-key_', '$(log-analytics-workspace-key)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_log-analytics-workspace-id_', '$(log-analytics-workspace-id)') | Set-Content -Path $file\nwrite-host (Get-Content -path $file)","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault-conn.json --parameters va-eis-tmp-keyvault-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Update KeyVault permissions","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Resources\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault.json --parameters va-eis-tmp-keyvault-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":149,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/releases/149","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{"dataSourceBindings":[{"dataSourceName":"AzureStorageServiceNames","parameters":{},"endpointId":"$(ConnectedServiceName)","target":"StorageAccount"},{"dataSourceName":"AzureHostedServiceNames","parameters":{},"endpointId":"$(ConnectedServiceName)","target":"ServiceName"},{"dataSourceName":"AzureLocations","parameters":{},"endpointId":"$(ConnectedServiceName)","target":"ServiceLocation"}]},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://devops.ec.va.gov/SharedServices/_apis/public/Release/badge/91e7d26e-ed2c-4987-a40c-7912f194dd2d/1/9"},{"id":12,"name":"PROD-EAST-RG","rank":4,"owner":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"variables":{"env":{"value":"east-prod"},"ResourceGroup":{"value":"EIS-PROD-INT-EAST-EIS-RG"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":38}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":39},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":40}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":180,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Run on agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"1e244d32-2dd4-4165-96fb-b7441ca9331e","version":"1.*","name":"Azure Key Vault: va-eis-tmp-kv1-east-prod","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","KeyVaultName":"va-eis-tmp-kv1-east-prod","SecretsFilter":"*"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Update inline params","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)\n$file = \"./_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-dataverse-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_cds-client-id_', '$(cds-client-id)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-client-secret_', '$(cds-client-secret)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-tenant-id_', '$(cds-tenant-id)') | Set-Content -Path $file\n$file = \"$(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-loganalytics-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_log-analytics-workspace-key_', '$(log-analytics-workspace-key)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_log-analytics-workspace-id_', '$(log-analytics-workspace-id)') | Set-Content -Path $file\n","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse API Conn","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-dataverse-conn.json --parameters va-eis-tmp-dataverse-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn-ext.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Log Analytics Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-loganalytics-conn.json --parameters va-eis-tmp-loganalytics-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault-conn.json --parameters va-eis-tmp-keyvault-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct-ext.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - OAuthAuthenticator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-OAuthAuthenticator.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - AzureManagementAPIWrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-AzureManagementAPIWrapper.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - DataLake Wrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-DataLakeAPIWrapper.json --parameters va-eis-tmp-DataLakeAPIWrapper-$(env).parameters.json\n","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-orchestrator.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-worker.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-orchestrator.json --parameters ..\\shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound FHIR worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-FHIRworker.json --parameters va-eis-tmp-inbound-FHIRworker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 12","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS12.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 13","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS13.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 15","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS15.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 23","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS23.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 24","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS24.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Preemptive ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-PreemptiveTMPResourceSync.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Worker Main","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-worker.json --parameters va-eis-tmp-inbound-worker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Liquid Templates","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration\necho \"$(container-reg-key)\" | .\\Converter.Tool\\oras.exe login $(container-reg-user).azurecr.us -u $(container-reg-user) --password-stdin \n.\\Converter.Tool\\Microsoft.Health.Fhir.Liquid.Converter.Tool.exe push $(container-reg-user).azurecr.us/fhir-converter:main .\\ContainerDeploy","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault, update managed Identities","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Resources\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault.json --parameters va-eis-tmp-keyvault-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":152,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/releases/152","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{"dataSourceBindings":[{"dataSourceName":"AzureRMWebAppNamesByAppType","parameters":{"WebAppKind":"$(WebAppKind)"},"endpointId":"$(ConnectedServiceName)","target":"WebAppName"}]},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://devops.ec.va.gov/SharedServices/_apis/public/Release/badge/91e7d26e-ed2c-4987-a40c-7912f194dd2d/1/12"},{"id":13,"name":"PROD-SOUTHWEST-RG","rank":3,"owner":{"displayName":"Novak, James M. (Dell Federal Systems L.p.)","url":"https://devops.ec.va.gov/SharedServices/_apis/Identities/ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","_links":{"avatar":{"href":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"}},"id":"ba43edba-8dbe-466f-9fe7-06ad1fb9bdbd","uniqueName":"DVA\\OITCONovakJ","imageUrl":"https://devops.ec.va.gov/SharedServices/_apis/GraphProfile/MemberAvatars/win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ","descriptor":"win.Uy0xLTUtMjEtNzc2NTYxNzQxLTEyOTI0MjgwOTMtNzI1MzQ1NTQzLTQwODIxNQ"},"variables":{"env":{"value":"sw-prod"},"ResourceGroup":{"value":"EIS-PROD-INT-SOUTHWEST-EIS-RG"}},"variableGroups":[],"preDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":41}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":1}},"deployStep":{"id":42},"postDeployApprovals":{"approvals":[{"rank":1,"isAutomated":true,"isNotificationOn":false,"id":43}],"approvalOptions":{"requiredApproverCount":null,"releaseCreatorCanBeApprover":false,"autoTriggeredAndPreviousEnvironmentApprovedCanBeSkipped":false,"enforceIdentityRevalidation":false,"timeoutInMinutes":0,"executionOrder":2}},"deployPhases":[{"deploymentInput":{"parallelExecution":{"parallelExecutionType":0},"agentSpecification":null,"skipArtifactsDownload":false,"artifactsDownloadInput":{"downloadInputs":[]},"queueId":180,"demands":[],"enableAccessToken":false,"timeoutInMinutes":0,"jobCancelTimeoutInMinutes":1,"condition":"succeeded()","overrideInputs":{}},"rank":1,"phaseType":1,"name":"Run on agent","refName":null,"workflowTasks":[{"environment":{},"taskId":"1e244d32-2dd4-4165-96fb-b7441ca9331e","version":"1.*","name":"Azure Key Vault: va-eis-tmp-kv-sw-prod","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"ConnectedServiceName":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","KeyVaultName":"va-eis-tmp-kv-sw-prod","SecretsFilter":"*"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Update inline params","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)\n$file = \"./_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-dataverse-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_cds-client-id_', '$(cds-client-id)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-client-secret_', '$(cds-client-secret)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_cds-tenant-id_', '$(cds-tenant-id)') | Set-Content -Path $file\n$file = \"$(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration/ARMTemplates/Connections/va-eis-tmp-loganalytics-conn-$(env).parameters.json\"\n((Get-Content -path $file) -replace '_log-analytics-workspace-key_', '$(log-analytics-workspace-key)') | Set-Content -Path $file\n((Get-Content -path $file) -replace '_log-analytics-workspace-id_', '$(log-analytics-workspace-id)') | Set-Content -Path $file\n","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse API Conn","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-dataverse-conn.json --parameters va-eis-tmp-dataverse-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Service Bus API Connection, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-servicebus-conn-ext.json --parameters va-eis-tmp-servicebus-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Log Analytics Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-loganalytics-conn.json --parameters va-eis-tmp-loganalytics-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault Connection","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Connections\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault-conn.json --parameters va-eis-tmp-keyvault-conn-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Integration Account, non ISE","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-integration-acct-ext.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - OAuthAuthenticator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-OAuthAuthenticator.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - AzureManagementAPIWrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-AzureManagementAPIWrapper.json --parameters ../shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - DataLake Wrapper","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Shared\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-DataLakeAPIWrapper.json --parameters va-eis-tmp-DataLakeAPIWrapper-$(env).parameters.json\n","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-orchestrator.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Outbound Worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Outbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-outbound-worker.json --parameters va-eis-tmp-outbound-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Orchestrator","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-orchestrator.json --parameters ..\\shared-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound FHIR worker","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-FHIRworker.json --parameters va-eis-tmp-inbound-FHIRworker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 12","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS12.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 13","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS13.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 15","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS15.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 23","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS23.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Dataverse Processing 24","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-dataverseprocessingS24.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Preemptive ","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-PreemptiveTMPResourceSync.json --parameters va-eis-tmp-inbound-dataverseproscessing-$(env).params.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Inbound Worker Main","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Inbound\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-inbound-worker.json --parameters va-eis-tmp-inbound-worker-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}},{"environment":{},"taskId":"31f040e5-e040-4336-878a-59a493355534","version":"1.*","name":"Inline PowerShell - Liquid Templates","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"Script":"cd $(System.DefaultWorkingDirectory)/_TMP_Cerner_Integration\necho \"$(container-reg-key)\" | .\\Converter.Tool\\oras.exe login $(container-reg-user).azurecr.us -u $(container-reg-user) --password-stdin \n.\\Converter.Tool\\Microsoft.Health.Fhir.Liquid.Converter.Tool.exe push $(container-reg-user).azurecr.us/fhir-converter:main .\\ContainerDeploy","ScriptArguments":""}},{"environment":{},"taskId":"46e4be58-730b-4389-8a2f-ea10b3e5e815","version":"1.*","name":"Azure CLI - Key Vault, update managed Identities","refName":"","enabled":true,"alwaysRun":false,"continueOnError":false,"timeoutInMinutes":0,"definitionType":"task","overrideInputs":{},"condition":"succeeded()","inputs":{"connectedServiceNameARM":"7a6b84b1-2dda-4807-a9bf-d52aeccbdccf","scriptLocation":"inlineScript","scriptPath":"","inlineScript":"cd _TMP_Cerner_Integration\\ARMTemplates\\Resources\\\naz deployment group create --resource-group $(ResourceGroup) --name Rollout_$(Release.ReleaseId) --template-file va-eis-tmp-keyvault.json --parameters va-eis-tmp-keyvault-$(env).parameters.json","args":"","addSpnToEnvironment":"false","useGlobalConfig":"false","cwd":"$(System.DefaultWorkingDirectory)","failOnStandardError":"false"}}]}],"environmentOptions":{"emailNotificationType":"OnlyOnFailure","emailRecipients":"release.environment.owner;release.creator","skipArtifactsDownload":false,"timeoutInMinutes":0,"enableAccessToken":false,"publishDeploymentStatus":true,"badgeEnabled":false,"autoLinkWorkItems":false,"pullRequestDeploymentEnabled":false},"demands":[],"conditions":[],"executionPolicy":{"concurrencyCount":1,"queueDepthCount":0},"schedules":[],"currentRelease":{"id":152,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/releases/152","_links":{}},"retentionPolicy":{"daysToKeep":30,"releasesToKeep":3,"retainBuild":true},"processParameters":{"dataSourceBindings":[{"dataSourceName":"AzureRMWebAppNamesByAppType","parameters":{"WebAppKind":"$(WebAppKind)"},"endpointId":"$(ConnectedServiceName)","target":"WebAppName"}]},"properties":{},"preDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"postDeploymentGates":{"id":0,"gatesOptions":null,"gates":[]},"environmentTriggers":[],"badgeUrl":"https://devops.ec.va.gov/SharedServices/_apis/public/Release/badge/91e7d26e-ed2c-4987-a40c-7912f194dd2d/1/13"}],"artifacts":[{"sourceId":"91e7d26e-ed2c-4987-a40c-7912f194dd2d:e2bfcc96-f388-43c9-8945-8eed7486ee91","type":"Git","alias":"_TMP_Cerner_Integration","definitionReference":{"branches":{"id":"master","name":"master"},"checkoutNestedSubmodules":{"id":"True","name":"Any nested submodules within"},"checkoutSubmodules":{"id":"","name":""},"defaultVersionSpecific":{"id":"","name":""},"defaultVersionType":{"id":"latestFromBranchType","name":"Latest from the default branch"},"definition":{"id":"e2bfcc96-f388-43c9-8945-8eed7486ee91","name":"TMP_Cerner_Integration"},"fetchDepth":{"id":"","name":""},"gitLfsSupport":{"id":"","name":""},"project":{"id":"91e7d26e-ed2c-4987-a40c-7912f194dd2d","name":"TMP_Cerner_Integration"}},"isPrimary":true,"isRetained":false}],"triggers":[],"releaseNameFormat":"Release-$(rev:r)","tags":[],"pipelineProcess":{"type":1},"properties":{"DefinitionCreationSource":{"$type":"System.String","$value":"ReleaseNew"},"System.EnvironmentRankLogicVersion":{"$type":"System.String","$value":"2"}},"id":1,"name":"TMP-EIS-RELEASE-PIPELINE","path":"\\","projectReference":null,"url":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/definitions/1","_links":{"self":{"href":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_apis/Release/definitions/1"},"web":{"href":"https://devops.ec.va.gov/SharedServices/91e7d26e-ed2c-4987-a40c-7912f194dd2d/_release?definitionId=1"}}}